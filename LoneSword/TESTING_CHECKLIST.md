# LoneSword 浏览器 App - 完整功能测试清单

## 📋 测试日期
- **创建**: 2025-10-18
- **版本**: Phase 2 Complete

---

## 🎯 功能模块测试

### 1️⃣ 网页浏览功能
- [ ] **首页加载**：应用启动直接加载 https://ai.quark.cn/
  - 竖屏模式验证
  - 横屏模式验证
  
- [ ] **URL 处理**
  - [ ] 自动添加 http:// 或 https://
  - [ ] 智能处理 www. 前缀
  - [ ] 支持直接输入域名
  
- [ ] **加载进度**
  - [ ] 顶部 2px 蓝色进度条显示
  - [ ] 进度条从 0% 动画填充至 100%
  - [ ] 页面加载完成后消失
  
- [ ] **前进/后退**
  - [ ] 后退按钮：有历史时蓝色可用，无历史时灰色禁用
  - [ ] 前进按钮：有前进历史时蓝色可用，无时灰色禁用
  - [ ] 导航时地址栏自动更新

### 2️⃣ Slash 按钮功能
- [ ] **单击行为**
  - [ ] 停止当前加载（如果在加载中）
  - [ ] 加载地址栏中的 URL
  - [ ] 地址栏为空时加载当前 URL
  
- [ ] **双击行为**
  - [ ] 0.3 秒内两次点击触发双击
  - [ ] 双击加载首页 https://ai.quark.cn/
  
- [ ] **视觉反馈**
  - [ ] 橙色角标在按钮右上角显示
  - [ ] 角标显示环形进度条
  - [ ] 进度条从右上角起始，顺时针绘制
  - [ ] 加载完成时角标消失
  
- [ ] **样式**
  - [ ] 圆角蓝色按钮，高度与地址栏对齐
  - [ ] 显示"Slash"文本，字体 14pt 加粗
  - [ ] 宽度根据文本自动适配

### 3️⃣ 地址栏功能
- [ ] **地址栏编辑**
  - [ ] 点击可编辑文本
  - [ ] 编辑时显示当前 URL
  - [ ] 编辑完成按回车键加载
  
- [ ] **地址栏更新**
  - [ ] 页面加载时自动更新为新 URL
  - [ ] 导航时地址栏跟随更新
  - [ ] 非编辑状态下保持同步

### 4️⃣ 网页内链跳转
- [ ] **内链正常跳转**
  - [ ] 网页内部链接点击可以正常导航
  - [ ] 不拦截内部链接
  - [ ] 地址栏自动更新为新页面 URL

### 5️⃣ 下拉刷新功能
- [ ] **下拉手势**
  - [ ] WebView 上向下拉触发刷新
  - [ ] 显示加载指示器
  - [ ] 自动停止加载并触发 Slash 单击逻辑
  - [ ] 刷新完成后指示器消失

### 6️⃣ 浏览历史管理
- [ ] **历史记录保存**
  - [ ] 每个页面加载完成后记录历史
  - [ ] 保存 URL、标题、时间戳
  - [ ] 数据持久化到 SwiftData
  
- [ ] **前进/后退导航**
  - [ ] 后退按钮导航到上一页
  - [ ] 前进按钮导航到下一页
  - [ ] 地址栏正确显示当前 URL

### 7️⃣ AI 助手功能
- [ ] **面板 UI**
  - [ ] 标题"AI洞察"居中显示，浅灰背景
  - [ ] 三个选项复选框：识别AI生成、自动翻译中文、自动总结
  - [ ] 富文本显示区显示初始示例内容
  - [ ] 输入框支持文本输入
  - [ ] 右下角麦克风按钮可见
  
- [ ] **功能开关**
  - [ ] 复选框可点击切换开/关
  - [ ] 选中时显示蓝色背景和勾选图标
  - [ ] 未选中时显示边框样式
  
- [ ] **文本输入**
  - [ ] 输入框支持文本输入
  - [ ] 发送按钮（纸飞机图标）可点击
  - [ ] 输入并发送后，清空输入框
  - [ ] 结果追加到显示区
  
- [ ] **加载状态**
  - [ ] AI 处理中显示加载菊花
  - [ ] 处理完成后菊花消失

### 8️⃣ 语音识别功能
- [ ] **麦克风按钮**
  - [ ] 麦克风按钮可见且可点击
  - [ ] 首次点击请求麦克风权限
  - [ ] 权限允许后开始录音（图标变红）
  - [ ] 权限拒绝后显示错误提示
  
- [ ] **语音识别**
  - [ ] 麦克风图标变红表示正在录音
  - [ ] 语音转文本实时显示
  - [ ] 识别结果自动填充到输入框
  - [ ] 点击麦克风按钮停止录音

### 9️⃣ 响应式布局
- [ ] **竖屏模式**
  - [ ] 浏览器占上部 2/3
  - [ ] AI 助手占下部 1/3
  - [ ] 分隔线清晰可见
  - [ ] 元素间距合理
  
- [ ] **横屏模式**
  - [ ] 浏览器占左侧 2/3
  - [ ] AI 助手占右侧 1/3
  - [ ] 竖分隔线清晰可见
  - [ ] 所有元素完整可见
  
- [ ] **屏幕旋转**
  - [ ] 竖屏 → 横屏：布局平滑切换，内容保留
  - [ ] 横屏 → 竖屏：布局平滑切换，内容保留
  - [ ] 网页滚动位置基本保留
  - [ ] 多次旋转无崩溃

### 🔟 UI/UX 一致性
- [ ] **配色方案**
  - [ ] 背景色：浅灰色 (#F8F8F8)
  - [ ] 强调色：蓝色 (#007AFF)
  - [ ] 橙色标签：#FF9500
  - [ ] 分隔线：浅灰 (#E5E5EA)
  
- [ ] **触屏优化**
  - [ ] 所有按钮最小 44×44pt
  - [ ] 点击反馈迅速
  - [ ] 无误触发现象
  
- [ ] **字体和排版**
  - [ ] 标题字体大小合理
  - [ ] 正文字体清晰易读
  - [ ] 行间距适当
  - [ ] 文本对齐正确

---

## 🧪 设备和场景测试

### 设备类型
- [ ] iPhone SE（小屏幕）
- [ ] iPhone 14 Pro（标准屏幕）
- [ ] iPhone 14 Pro Max（大屏幕）
- [ ] iPad（平板设备）

### 网络场景
- [ ] Wi-Fi 网络下加载
- [ ] 4G/5G 网络下加载
- [ ] 网络较慢时的加载过程

### 长期使用
- [ ] 连续浏览多个页面
- [ ] 快速切换多个标签页面
- [ ] 内存占用合理
- [ ] 无明显卡顿

---

## 🐛 已知问题和修复

### 修复完成
- ✅ 横屏冷启动首页显示
- ✅ 内链正常跳转（移除拦截）
- ✅ Slash 按钮文本适配

### 需要跟进
- [ ] WebKit 网络配置检查
- [ ] 低网速下的加载优化
- [ ] 内存占用监控

---

## 📊 测试结果汇总

| 功能模块 | 状态 | 备注 |
|---------|------|------|
| 网页浏览 | ⏳ | 待验证 |
| Slash 按钮 | ⏳ | 待验证 |
| 地址栏 | ⏳ | 待验证 |
| 内链跳转 | ⏳ | 待验证 |
| 下拉刷新 | ⏳ | 待验证 |
| 历史管理 | ⏳ | 待验证 |
| AI 助手 | ⏳ | 待验证 |
| 语音识别 | ⏳ | 待验证 |
| 响应式布局 | ⏳ | 待验证 |
| UI/UX | ⏳ | 待验证 |

---

## 📝 测试备注

**测试环境**：
- Xcode 版本：
- iOS SDK 版本：
- 模拟器 iOS 版本：

**测试人员**：

**测试完成时间**：

---

**最后更新**: 2025-10-18
